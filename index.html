<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù… 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* --- ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø¹Ø§Ù…Ø© --- */
        body {
            margin: 0; padding: 0; height: 100vh; width: 100vw;
            background-color: #000; color: white;
            font-family: 'Tajawal', sans-serif;
            overflow: hidden;
            display: flex; justify-content: center; align-items: center; text-align: center;
        }

        .scene {
            display: none; position: absolute;
            top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 90%; max-width: 600px; z-index: 10;
        }

        /* --- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© --- */
        #start-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 1000;
        }

        .start-btn {
            padding: 15px 40px; font-size: 1.3rem; background: #fff; color: #000;
            border: none; border-radius: 50px; cursor: pointer;
            font-family: 'Tajawal', sans-serif; font-weight: bold;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.4); animation: pulse 1.5s infinite;
        }

        /* --- Ù†ØµÙˆØµ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ --- */
        .text-line {
            font-size: 1.3rem; margin-bottom: 20px; opacity: 0;
            transform: translateY(20px); transition: opacity 1.5s ease, transform 1.5s ease;
            color: #ccc; line-height: 1.6;
        }
        .highlight { color: #fff; font-weight: bold; text-shadow: 0 0 10px rgba(255,255,255,0.3); }
        .visible { opacity: 1; transform: translateY(0); }

        /* --- Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø£ÙˆÙ„ --- */
        .loader {
            border: 3px solid #333; border-top: 3px solid #fff; border-radius: 50%;
            width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 0 auto 30px auto;
        }

        /* --- Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø«Ø§Ù†ÙŠ --- */
        .heart-icon {
            font-size: 4rem; color: #ff1744; margin-bottom: 20px;
            animation: heartbeat 1.3s infinite; 
            display: inline-block;
        }

        .progress-box { width: 100%; height: 80px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .progress-container { width: 100%; height: 15px; background-color: #333; border-radius: 50px; overflow: hidden; margin-bottom: 10px; }
        .progress-bar { width: 0%; height: 100%; background: linear-gradient(90deg, #ff1744, #d50000); border-radius: 50px; transition: width 0.1s linear; }
        
        .flashing-words-box {
            height: 50px; margin-top: 20px; font-size: 1.5rem; font-weight: bold;
            color: #ff80ab; opacity: 0; transition: opacity 0.3s ease;
        }
        .flash-visible { opacity: 1; }

        /* --- Ø´Ø§Ø´Ø© Ù‚ÙÙ„ Ø§Ù„Ø§Ø³Ù… (Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ) --- */
        #password-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 2000;
            flex-direction: column; justify-content: center; align-items: center;
        }
        .pwd-input {
            padding: 10px; font-size: 1.2rem; border-radius: 10px; border: 2px solid #64B5F6;
            outline: none; text-align: center; margin-bottom: 15px; width: 70%;
            font-family: 'Tajawal', sans-serif;
        }
        .pwd-btn {
            padding: 10px 30px; font-size: 1rem; background: #64B5F6; color: #000;
            border: none; border-radius: 50px; cursor: pointer; font-weight: bold;
        }
        
        /* Ø²Ø± Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© */
        .help-btn {
            padding: 8px 25px; font-size: 0.9rem; background: #FFD700; color: #000;
            border: none; border-radius: 50px; cursor: pointer; font-weight: bold;
            margin-top: 15px; display: none; animation: pulse 2s infinite;
        }

        .error-msg {
            color: #ff1744; margin-top: 15px; font-weight: bold; min-height: 25px;
        }
        
        /* Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª */
        .attempts-counter {
            color: #FFD700; font-size: 0.9rem; margin-bottom: 10px; font-weight: bold;
            border: 1px dashed #FFD700; padding: 5px 15px; border-radius: 20px;
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ¯Ù…ÙŠØ± Ø§Ù„Ø°Ø§ØªÙŠ */
        #destruct-screen {
            display: none; flex-direction: column; justify-content: center; align-items: center;
            position: absolute; width: 100%;
        }
        .destruct-timer {
            font-size: 6rem; color: red; font-weight: bold; text-shadow: 0 0 20px red;
            margin: 20px 0;
        }
        .destruct-warning {
            color: #ef5350; font-size: 1.5rem; margin-bottom: 20px; font-weight: bold;
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù‡Ù„Ù‡ÙˆÙ„Ø© (Ø§Ù„Ù†Ø¬Ø§Ø­) */
        #success-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.95); z-index: 2500;
            flex-direction: column; justify-content: center; align-items: center;
            text-align: center;
        }
        .success-text {
            font-size: 2rem; color: #4CAF50; font-weight: bold; margin-bottom: 20px;
            animation: pulse 1s infinite;
        }

        #input-group {
            display: flex; flex-direction: column; align-items: center; width: 100%;
        }

        /* --- Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø«Ø§Ù„Ø« --- */
        .year-container {
            font-size: 5rem; font-weight: bold; margin-bottom: 10px;
            display: flex; align-items: center; justify-content: center; direction: ltr;
            transition: transform 1.5s ease;
        }
        /* ÙƒÙ„Ø§Ø³ Ù„ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø³Ù†Ø© Ù„Ù„Ø£Ø³ÙÙ„ */
        .year-move-down {
            transform: translateY(120px); 
        }

        .static-num { text-shadow: 0 0 20px rgba(33, 150, 243, 0.6); color: #E3F2FD; }
        
        .morph-wrapper {
            position: relative; display: inline-block;
            width: 55px; height: 80px; text-align: center; top: -20px;
        }

        .digit-six { position: absolute; left: 0; top: 0; width: 100%; transition: opacity 1s ease-in-out, transform 1s; color: #E3F2FD; }
        
        .baby-icon {
            position: absolute; left: 0; top: 10px; width: 100%; opacity: 0;
            transform: scale(0.5); transition: opacity 1s ease-in-out, transform 1s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            font-size: 4rem;
        }

        .morph-active .digit-six { opacity: 0; transform: scale(1.5) rotate(20deg); }
        .morph-active .baby-icon { opacity: 1; transform: scale(1); }

        /* --- Ø²Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ (Ø²Ø± Ø§Ù„Ø¯Ù„Ø§Ù„) --- */
        .whatsapp-btn {
            display: none; 
            margin: 0 auto 30px auto; 
            padding: 12px 30px;
            background-color: #25D366; /* Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø®Ø¶Ø± Ø§Ù„Ø£ØµÙ„ÙŠ */
            color: white; text-decoration: none;
            border-radius: 50px; font-weight: bold; font-size: 1rem;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4); animation: pulse 2s infinite;
            opacity: 0; transition: opacity 1s;
        }

        /* --- Ø²Ø± Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ø¹Ø§Ø¦Ù… --- */
        .prayer-float {
            position: fixed; top: 20px; right: 20px; 
            width: 45px; height: 45px; border-radius: 50%;
            background: rgba(255, 255, 255, 0.15); border: 1px solid rgba(255,255,255,0.5);
            color: #fff; font-size: 1.2rem; display: none; 
            justify-content: center; align-items: center; cursor: pointer;
            z-index: 2000; opacity: 0; transition: opacity 1s;
        }
        .prayer-float:hover { background: rgba(255, 255, 255, 0.3); }

        /* --- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯Ø¹Ø§Ø¡ (Modal) --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9); z-index: 3000;
            display: none; justify-content: center; align-items: center;
        }
        .modal-content {
            background: #1a1a1a; padding: 30px; border-radius: 20px;
            max-width: 80%; border: 1px solid #64B5F6; text-align: center;
            box-shadow: 0 0 30px rgba(100, 181, 246, 0.2);
        }
        .close-modal { margin-top: 20px; padding: 8px 20px; background: #333; color: #fff; border: none; border-radius: 5px; cursor: pointer; }

        /* --- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© (Modal) --- */
        #help-modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.85); z-index: 4000;
            justify-content: center; align-items: center;
        }
        .help-content {
            background: #fff; color: #000; padding: 40px; border-radius: 20px;
            font-size: 1.5rem; font-weight: bold;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
            text-align: center;
        }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³ÙÙ„ÙŠ --- */
        #update-footer {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background-color: rgba(20, 20, 20, 0.95);
            padding: 12px 0; display: none; justify-content: center; align-items: center;
            font-size: 0.9rem; color: #ccc; z-index: 100; border-top: 1px solid #333;
        }
        .footer-spinner {
            border: 2px solid rgba(255, 255, 255, 0.1); border-top: 2px solid #64B5F6;
            border-radius: 50%; width: 16px; height: 16px; animation: spin 1s linear infinite; margin-left: 12px;
        }

        canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes blink { 50% { opacity: 0; } }
        @keyframes heartbeat { 
            0% { transform: scale(1); } 15% { transform: scale(1.2); } 30% { transform: scale(1); } 45% { transform: scale(1.2); } 60% { transform: scale(1); } 100% { transform: scale(1); }
        }

    </style>
</head>
<body>

    <canvas id="fireworksCanvas"></canvas>

    <div id="start-overlay">
        <button class="start-btn" onclick="startExperience()">Ø§Ø¶ØºØ·ÙŠ Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« â†º</button>
    </div>

    <div id="password-overlay">
        <h2 id="security-title" style="margin-bottom: 20px; color: #64B5F6;">ØªÙ†Ø¨ÙŠÙ‡ Ø£Ù…Ù†ÙŠ âš ï¸</h2>
        
        <div id="input-group">
            <p id="q-text" style="margin-bottom: 20px; font-size: 1.1rem;">Ù„Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ 2026.. Ù…Ø§Ù‡Ùˆ Ù„ÙˆÙ† Ø§Ù„Ù„Ø¨Ø§Ø³ Ø§Ù„Ø°ÙŠ ÙŠØ±ØªØ¯ÙŠÙ‡ ÙŠÙˆØ³Ù Ø§Ù„ÙŠÙˆÙ… ğŸ¤£ØŸ</p>
            
            <div id="attempts-box" class="attempts-counter">Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: <span id="attempt-num">10</span></div>

            <input type="text" id="nameInput" class="pwd-input" placeholder="Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¬ÙˆØ§Ø¨ Ù‡Ù†Ø§...">
            <button class="pwd-btn" onclick="checkAnswer()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            <button class="help-btn" id="helpBtn" onclick="showHelpMessage()">Ù…Ø³Ø§Ø¹Ø¯Ø© ğŸ’¡</button>
        </div>

        <div id="destruct-screen">
            <div class="destruct-warning" id="destruct-msg-main">Ø³ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹...</div>
            <div class="destruct-warning" id="destruct-msg-sub" style="font-size: 1rem; color: #ccc;">ÙØ´Ù„ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø£Ù…Ù†ÙŠ. Ù„Ù† ÙŠØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø¹Ø§Ù… 2026.</div>
            <div class="destruct-timer" id="destruct-timer">10</div>
        </div>

        <div class="error-msg" id="errorMsg"></div>
    </div>

    <div id="help-modal" onclick="hideHelpMessage()">
        <div class="help-content">
            Ø®Ø·ÙŠØ© ØªØ±ÙŠØ¯ Ù…Ø³Ø§Ø¹Ø¯Ù‡ ğŸ¤£
            <div style="font-size: 0.8rem; margin-top: 10px; color: #666;">(Ø§Ø¶ØºØ·ÙŠ Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø±Ø³Ø§Ù„Ø©)</div>
        </div>
    </div>

    <div id="success-overlay">
        <div class="success-text">ØµÙ„ÙˆØ§Øª Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯<br>ØªØ­ØªØ§Ø¬ÙŠÙ† Ù‡Ù„Ù‡ÙˆÙ„Ø© ğŸ‘ğŸ‘</div>
    </div>

    <div class="prayer-float" id="prayerBtn" onclick="togglePrayer()">ğŸ¤²</div>

    <div class="modal-overlay" id="prayerModal">
        <div class="modal-content">
            <h3 style="color: #64B5F6; margin-bottom: 20px;">Ø¯Ø¹Ø§Ø¡ Ù„Ø²ÙˆØ¬ØªÙŠ Ø§Ù„ØºØ§Ù„ÙŠØ©</h3>
            <p style="line-height: 1.8; font-size: 1.1rem;">
                "Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³ØªÙˆØ¯Ø¹Ùƒ Ø²ÙˆØ¬ØªÙŠ ÙˆØ¬Ù†ÙŠÙ†Ù‡Ø§ØŒ ÙØ§Ø­ÙØ¸Ù‡Ù… Ø¨Ø­ÙØ¸ÙƒØŒ<br>
                ÙˆÙ‡ÙˆÙ† Ø¹Ù„ÙŠÙ‡Ø§ Ù…Ø§ ØªØ¨Ù‚Ù‰ Ù…Ù† Ø­Ù…Ù„Ù‡Ø§ØŒ<br>
                ÙˆØ§Ø¬Ø¹Ù„Ù‡Ø§ Ø³Ù†Ø© Ø®ÙŠØ± ÙˆØ¨Ø±ÙƒØ© Ø¹Ù„ÙŠÙ†Ø§ ÙŠØ§ Ø£Ø±Ø­Ù… Ø§Ù„Ø±Ø§Ø­Ù…ÙŠÙ†."
            </p>
            <button class="close-modal" onclick="togglePrayer()">Ø¢Ù…ÙŠÙ†</button>
        </div>
    </div>

    <div class="scene" id="scene1">
        <div class="loader" id="s1-loader"></div>
        <div class="text-line" id="s1-line1">Ø¬Ø§Ø±Ù Ø¥ØºÙ„Ø§Ù‚ Ù…Ù„ÙØ§Øª Ø³Ù†Ø© 2025...</div>
        <div class="text-line" id="s1-line-update" style="color: #64B5F6;">
            Ø¬Ø§Ø±ÙŠ Ø£Ø±Ø´ÙØ© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©.. ÙˆØ§Ù„ØªØ­Ø¶ÙŠØ± Ù„ØªØ±Ù‚ÙŠØ© 2026 ğŸ”„
        </div>
        <div class="text-line" id="s1-line2">ØªÙ… Ø±ØµØ¯ <span class="highlight">ØªØ¹Ø¨ ÙˆØ£Ù„Ù…</span> ÙÙŠ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø®ÙŠØ±Ø©...</div>
        <div class="text-line" id="s1-line3" style="margin-top: 30px; color: #fff;">
            Ù„ÙƒÙ† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§ÙƒØªØ´Ù Ø£Ù†ÙƒÙ ÙƒÙ†ØªÙ <span class="highlight">Ø£Ù‚ÙˆÙ‰ ÙˆØ£Ø¬Ù…Ù„ Ø§Ù…Ø±Ø£Ø©</span> ØªØ­Ù…Ù„Øª ÙƒÙ„ Ù‡Ø°Ø§.
        </div>
    </div>

    <div class="scene" id="scene2">
        <div class="heart-icon">â¤ï¸</div>
        <div style="margin-bottom: 10px; color: #ffcdd2;">Ø¬Ø§Ø±Ù ØªØ«Ø¨ÙŠØª Ø¬Ø±Ø¹Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ù† Ø§Ù„Ø­Ø¨ ÙˆØ§Ù„Ø¯Ù„Ø§Ù„...</div>
        <div class="progress-box">
            <div class="progress-container"><div class="progress-bar" id="p-bar"></div></div>
            <div style="font-size: 1.5rem; font-weight: bold;" id="p-counter">0%</div>
        </div>
        <div class="flashing-words-box" id="love-words"></div>
    </div>

    <div class="scene" id="scene3">
        <div class="year-container" id="year-cont">
            <span class="static-num">202</span>
            <div class="morph-wrapper" id="morphBox">
                <span class="digit-six">6</span>
                <span class="baby-icon">ğŸ‘¶</span>
            </div>
        </div>
        
        <div id="typing-container"></div>
        
        <a href="https://wa.me/9647832268902?text=Ù…ÙØ§Ø¬Ø£Ø©!%20ğŸ%20Ø§ÙƒÙˆ%20Ù‡Ø¯ÙŠØ©%20Ø­Ù‚ÙŠÙ‚ÙŠØ©%20ØªÙ†ØªØ¸Ø±Ùƒ%20Ø¬ÙˆØ©%20Ø§Ù„Ù…Ø®Ø¯Ø©..%20Ø±ÙˆØ­ÙŠ%20Ø´ÙˆÙÙŠÙ‡Ø§%20ğŸ˜‰" class="whatsapp-btn" id="wa-btn" target="_blank">
            ğŸš‘ Ø·Ù„Ø¨ Ø¯Ù„Ø§Ù„ ÙÙˆØ±ÙŠ (Ø§Ø¶ØºØ·ÙŠ Ù‡Ù†Ø§)
        </a>

        <div id="final-texts" style="display: none;">
            <div class="text-line" id="f-msg1">ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ù†Ø¬Ø§Ø­...</div>
            <div class="text-line" id="f-msg2">ØªÙ†Ø¨ÙŠÙ‡: ØªÙ… Ø¥Ø¶Ø§ÙØ© <span class="highlight">Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯</span> Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©...</div>
            <div class="text-line" id="f-msg3" style="color: #64B5F6; margin-top: -20px;">Ù‡Ø°Ù‡ Ø§Ù„Ø³Ù†Ø© Ù„Ù† Ù†ÙƒÙˆÙ† Ø§Ø«Ù†ÙŠÙ†.. Ø³Ù†ÙƒÙˆÙ† Ø¹Ø§Ø¦Ù„Ø© ğŸ’™</div>
        </div>
    </div>

    <div id="update-footer">
        <div class="footer-spinner"></div>
        <span>Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ù†Ø©...</span>
    </div>

    <audio id="audioScene1" src="https://www.soundjay.com/free-music/snow-fall-01.mp3"></audio>
    <audio id="audioHeart" src="https://www.soundjay.com/human/sounds/heartbeat-01a.mp3" loop></audio>
    <audio id="audioTyping" src="https://www.soundjay.com/mechanical/sounds/typewriter-6.mp3" loop></audio>
    <audio id="audioBaby" src="https://www.soundjay.com/human/sounds/baby-laughing-02.mp3"></audio>
    <audio id="audioLaugh" src="https://www.soundjay.com/human/sounds/laughter-1.mp3"></audio>

    <script>
        const audioScene1 = document.getElementById('audioScene1');
        const audioHeart = document.getElementById('audioHeart');
        const audioTyping = document.getElementById('audioTyping');
        const audioBaby = document.getElementById('audioBaby');
        const audioLaugh = document.getElementById('audioLaugh');

        audioScene1.volume = 0.5;
        audioHeart.volume = 0.4;
        audioTyping.volume = 0.3;

        const letterToRuqaya = "Ø¥Ù„Ù‰ Ø²ÙˆØ¬ØªÙŠ Ø§Ù„Ø¹Ø²ÙŠØ²Ø© Ø±Ù‚ÙŠØ© Ø§Ù„ØºØ§Ù„ÙŠØ©..\nØ£Ø­Ø¨Ø¬ ÙŠØ±ÙˆØ­ÙŠ.. Ù‡Ø§ÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø£Ø±ÙŠØ¯ Ø£ÙƒÙ„Ø¬ Ø¨ÙŠÙ‡Ø§ Ø´ÙƒØ¯ Ø£Ù†ÙŠ ÙØ®ÙˆØ± Ø¨ÙŠØ¬ØŒ ÙˆØ§Ù„Ù„Ù‡ ÙŠØ±ÙˆØ­ÙŠ Ù…Ø§ Ø£Ù„ÙƒÙ‡ Ù…Ø«Ù„Ø¬ Ø¨Ù‡Ø§ÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø£Ø¨Ø¯.\nØ±ÙˆØ­ÙŠ Ù…ØªØ¹Ù„Ù‚Ø© Ø¨ÙŠØ¬ ÙˆÙ…Ø§ Ø£Ø¹Ø±Ù Ø£Ø¹ÙŠØ´ Ø¨Ø¯ÙˆÙ†Ø¬.\nÙƒÙ„ Ø¹Ø§Ù… Ø£Ù†ØªÙŠ Ø¥Ù„ÙŠØŒ ÙˆÙƒÙ„ Ø¹Ø§Ù… Ø£Ù†ØªÙŠ Ø²ÙˆØ¬ØªÙŠØŒ ÙˆÙƒÙ„ Ø¹Ø§Ù… Ø£Ù†ØªÙŠ ÙƒÙ„ Ù…Ø§ Ø£Ù…Ù„Ùƒ ÙŠØ§ ØºØ§Ù„ÙŠØªÙŠ ÙˆØ¹Ø²ÙŠØ²ØªÙŠ ÙˆÙƒÙ„ Ø¯Ù†ÙŠØªÙŠ.\nØ£Ø­Ø¨Ø¬ ÙŠØ±ÙˆØ­ÙŠØŒ Ø§Ù„Ù„Ù‡ ÙŠØ­ÙØ¸Ø¬ Ø¥Ù„ÙŠ ÙˆÙŠØ®Ù„ÙŠØ¬ØŒ Ø³Ù†Ø© Ø³Ø¹ÙŠØ¯Ø© Ø¹Ù„ÙŠØ¬ Ø­ÙŠØ§ØªÙŠ.\n\n- Ø­Ø¨ÙŠØ¨Ùƒ ÙŠÙˆØ³Ù â¤ï¸";

        const loveWordsList = ["Ø£Ø­Ø¨Ø¬", "Ø£Ø¹Ø´ÙƒØ¬", "Ø£Ù…ÙˆØª Ø¹Ù„ÙŠØ¬", "Ø­ÙŠØ§ØªÙŠ Ø£Ù†ØªÙŠ", "Ø¹Ù…Ø±ÙŠ"];
        
        const funnyResponses = [
            "Ø´Ø¯Ø¹ÙˆØ© Ù†Ø³ÙŠØªÙŠØŸ ğŸ˜‚",
            "Ù„Ø§ Ù…Ùˆ Ù‡Ø°Ø§ Ø§Ù„Ù„ÙˆÙ†.. ÙÙƒØ±ÙŠ Ø²ÙŠÙ†",
            "Ø±ÙƒØ²ÙŠ ÙŠÙ…Ø¹ÙˆØ¯Ø©!",
            "ØªØ±Ø§ Ø³Ù‡Ù„.. Ù„ÙˆÙ† Ù…Ù…ÙŠØ² ğŸ¤£",
            "Ø®Ø·Ø£! Ø­Ø§ÙˆÙ„ÙŠ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©",
            "Ù‡Ø§ Ø¨Ø¯ÙŠÙ†Ø© Ù†ØºÙ„Ø³ØŸ",
            "Ù…Ùˆ Ø§Ø­Ù…Ø± ÙˆÙ„Ø§ Ø§Ø³ÙˆØ¯.. ÙÙƒØ±ÙŠ Ø¨Ø§Ù„Ø¹Ù…ÙŠÙ‚",
            "Ø´Ù†Ùˆ Ø§Ù„Ø³Ø§Ù„ÙØ©ØŸ Ø±ÙƒØ²ÙŠ",
            "Ù„Ø§ Ø¨Ø±Ø¨Ø¬ØŸ Ù‡Ø°Ø§ Ø¬ÙˆØ§Ø¨ØŸ",
            "ØªØ±Ø§ Ø§Ø²Ø¹Ù„ ÙˆØ§Ù‚ÙÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ğŸ˜’",
            "Ø´ØºÙ„ÙŠ Ø°Ø§ÙƒØ±ØªØ¬ Ø´ÙˆÙŠØ©",
            "Ù…Ù…Ù….. Ù„Ø§ ØºÙ„Ø·",
            "Ø¯ÙˆØ±ÙŠ Ø²ÙŠÙ† Ø¨Ø°Ø§ÙƒØ±ØªØ¬",
            "Ø¹ÙˆØ¯ ØµØ¯Ùƒ Ù†Ø³ÙŠØªÙŠØŸ",
            "Ù„Ø§ ØªØ­Ø§ÙˆÙ„ÙŠÙ† ØªØ´Ù…Ø±ÙŠÙ† Ø§Ù„ÙˆØ§Ù† Ø¨ÙƒÙŠÙØ¬",
            "Ø§Ù„Ø¬ÙˆØ§Ø¨ ÙŠØ¶Ø­Ùƒ ØªØ±Ø§.. ÙÙƒØ±ÙŠ",
            "Ù…Ùˆ Ø§Ø²Ø±Ùƒ ÙˆÙ„Ø§ Ø§Ø®Ø¶Ø±",
            "ØªØ±Ø§ Ø¯Ø²ÙŠØªÙ„Ø¬ ØµÙˆØ±Ø©.. ØªØ°ÙƒØ±ÙŠ ğŸ˜‰",
            "ÙŠÙ„Ø§ Ø¹Ø§Ø¯.. Ø§Ø±ÙŠØ¯ Ø§Ø¯Ø®Ù„Ø¬ Ù„Ù„Ø³Ù†Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©",
            "Ø®Ø§Ø¨ Ù„Ø§ ØªÙØ´Ù„ÙŠÙ†ÙŠ ÙƒØ¯Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹",
            "ØªØ±Ø§ Ø§Ù„Ø¹Ø¯Ø§Ø¯ ÙŠÙ…Ø´ÙŠ.. Ø§Ø³ØªØ¹Ø¬Ù„ÙŠ",
            "Ø±Ø§Ø­ ÙŠØ®Ù„Øµ ØµØ¨Ø±ÙŠ Ù…Ùˆ Ø¨Ø³ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª ğŸ¤£",
            "Ø²ÙŠÙ† Ø§ØªØµÙ„ÙŠ Ø¨ÙŠÙ‡ Ø§Ø®Ø°ÙŠ Ù…Ø³Ø§Ø¹Ø¯Ø©",
            "Ù‡Ø§.. Ø§Ø³ØªØ³Ù„Ù…ØªÙŠØŸ",
            "Ù„ØªÙƒØªØ¨ÙŠÙ† Ø§ÙŠ Ø´ÙŠ.. ÙÙƒØ±ÙŠ ÙˆÙ„Ø¬"
        ];

        let attemptsLeft = 10;
        let isQuestion2 = false;
        let attemptsQ2 = 0; 
        let infiniteMode = false; 
        let vibrationInterval;

        function startExperience() {
            document.getElementById('start-overlay').style.display = 'none';
            playScene1();
        }

        function togglePrayer() {
            const modal = document.getElementById('prayerModal');
            modal.style.display = (modal.style.display === 'flex') ? 'none' : 'flex';
            
            // --- ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø²Ø± (wa-btn) Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø¹Ø§Ø¡ ---
            const waBtn = document.getElementById('wa-btn');
            // Ù†Ø¸Ù‡Ø±Ù‡ ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø®ÙÙŠØ§Ù‹
            if (waBtn.style.display !== 'inline-block') {
                waBtn.style.display = 'inline-block';
                // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø³Ù†Ø© Ù„Ù„Ø£Ø³ÙÙ„ Ù„Ø¥ÙØ³Ø§Ø­ Ø§Ù„Ù…Ø¬Ø§Ù„ Ù„Ù„Ø²Ø±
                document.getElementById('year-cont').classList.add('year-move-down');
                setTimeout(() => { waBtn.style.opacity = 1; }, 100);
            }
        }

        function showHelpMessage() {
            const modal = document.getElementById('help-modal');
            modal.style.display = 'flex';
            audioLaugh.currentTime = 0;
            audioLaugh.play().catch(e => console.log("Ø§Ù„ØµÙˆØª ÙŠØ­ØªØ§Ø¬ ØªÙØ§Ø¹Ù„"));
        }

        function hideHelpMessage() {
            const modal = document.getElementById('help-modal');
            modal.style.display = 'none';
            audioLaugh.pause();
            audioLaugh.currentTime = 0;
        }

        function stopSound(audioElement) {
            audioElement.pause();
            audioElement.currentTime = 0;
        }

        function stopAllSounds() {
            stopSound(audioScene1);
            stopSound(audioHeart);
            stopSound(audioTyping);
            stopSound(audioBaby);
            stopSound(audioLaugh);
            if(vibrationInterval) clearInterval(vibrationInterval);
        }

        // --- ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ---
        function checkAnswer() {
            const input = document.getElementById('nameInput');
            const errorDiv = document.getElementById('errorMsg');
            let val = input.value.trim();

            // ------------------------------------
            // Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø³Ø¤Ø§Ù„ Ù†Ø³Ø¨Ø© Ø§Ù„Ø­Ø¨
            // ------------------------------------
            if (isQuestion2) {
                // Ø§Ù„Ø¬ÙˆØ§Ø¨ Ø§Ù„ØµØ­ÙŠØ­
                if (val.includes("Ù…Ø§ ØªÙ†ÙˆØµÙ") || val.includes("Ù…Ø§ØªÙ†ÙˆØµÙ") || val.includes("Ù„Ø§ ØªÙˆØµÙ")) {
                    showSuccessAndProceed();
                } else {
                    // ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø«Ø§Ù†ÙŠ
                    attemptsQ2++;
                    
                    if (attemptsQ2 == 1) {
                        // Ø£ÙˆÙ„ Ø®Ø·Ø£
                        errorDiv.innerText = "ÙŠÙ…Ø¹ÙˆØ¯Ù‡ Ø¨Ø¹Ø¯ Ø´Ø³ÙˆÙŠÙ„Ø¬ Ø§Ø¬ÙŠ Ø§Ù†ÙŠ Ø¨Ù…ÙƒØ§Ù†Ø¬ Ø§Ø¬Ø§ÙˆØ¨";
                    } else if (attemptsQ2 == 2) {
                        // Ø«Ø§Ù†ÙŠ Ø®Ø·Ø£
                        errorDiv.innerText = "ÙƒØªØ¨ØªÙŠ Ù‚Ù„ÙŠÙ„ Ù„Ùˆ Ù‡ÙˆØ§ÙŠØŸ ØªØ±Ù‡ Ø§Ù„Ø¬ÙˆØ§Ø¨ Ù…Ùˆ Ø±Ù‚Ù… Ø¹Ø§Ø¯ÙŠ ğŸŒš";
                    } else if (attemptsQ2 >= 3) {
                        // Ø«Ø§Ù„Ø« Ø®Ø·Ø£ (Ø§Ù„Ø¹ÙˆØ¯Ø©)
                        errorDiv.innerText = "Ø§ÙŠØ³Øª Ù…Ù†Ø¬.. Ø§Ø±Ø¬Ø¹ÙŠ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø§ÙˆÙ„ Ø§Ø­Ø³Ù† ğŸ¤¦â€â™‚ï¸";
                        setTimeout(() => {
                            returnToFirstQuestion(); 
                        }, 2000);
                        return;
                    }
                    shakeInput(input);
                }
                return; 
            }

            // ------------------------------------
            // Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø³Ø¤Ø§Ù„ Ù„ÙˆÙ† Ø§Ù„Ù„Ø¨Ø§Ø³
            // ------------------------------------
            
            // 1. ÙØ­Øµ ÙƒÙ„Ù…Ø§Øª "Ø¨Ø¯ÙˆÙ† Ù…Ù„Ø§Ø¨Ø³"
            const nakedKeywords = ["Ù„Ø§ÙŠØ±ØªØ¯ÙŠ", "Ù„Ø§ ÙŠØ±ØªØ¯ÙŠ", "Ù„Ø§ÙŠÙ„Ø¨Ø³", "Ù„Ø§ ÙŠÙ„Ø¨Ø³", "Ø¹Ø±ÙŠØ§Ù†", "Ø¨Ø¯ÙˆÙ†", "Ù…Ø§ Ù„Ø§Ø¨Ø³", "Ù…Ø§ÙŠÙ„Ø¨Ø³", "Ù…Ø§ÙƒÙˆ Ù„Ø¨Ø§Ø³", "Ù…Ø§Ù„Ø§Ø¨Ø³"];
            let isNakedGuess = false;
            nakedKeywords.forEach(word => {
                if (val.includes(word)) isNakedGuess = true;
            });

            if (isNakedGuess) {
                errorDiv.innerText = "Ø§ÙŠ Ù…Ùˆ Ø§Ù†ÙŠ Ø±Ù‚ÙŠÙ‡ğŸ˜’";
                shakeInput(input);
                if (!infiniteMode) decreaseAttempts(); 
                return;
            } 
            
            // 2. Ø§Ù„Ø¬ÙˆØ§Ø¨ Ø§Ù„ØµØ­ÙŠØ­ (ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§)
            if (val.includes("ÙƒØ±ÙƒÙ…ÙŠ")) {
                showSuccessAndProceed();
            } else {
                // 3. Ø¬ÙˆØ§Ø¨ Ø®Ø§Ø·Ø¦
                if (!infiniteMode) {
                    decreaseAttempts();
                    if (attemptsLeft > 1) {
                        const randomResp = funnyResponses[Math.floor(Math.random() * funnyResponses.length)];
                        errorDiv.innerText = randomResp;
                    }
                } else {
                    const randomResp = funnyResponses[Math.floor(Math.random() * funnyResponses.length)];
                    errorDiv.innerText = randomResp;
                }
                shakeInput(input);
            }
        }

        // --- Ø¯Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ---
        function showSuccessAndProceed() {
            // Ø¥Ø®ÙØ§Ø¡ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
            document.getElementById('input-group').style.display = 'none';
            document.getElementById('security-title').style.display = 'none';
            document.getElementById('errorMsg').style.display = 'none';
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø´Ø§Ø´Ø© Ø§Ù„Ù‡Ù„Ù‡ÙˆÙ„Ø©
            const successOverlay = document.getElementById('success-overlay');
            successOverlay.style.display = 'flex';
            
            // Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± 3 Ø«ÙˆØ§Ù†ÙŠ Ø«Ù… Ø§Ù„Ø¯Ø®ÙˆÙ„
            setTimeout(() => {
                successOverlay.style.display = 'none';
                document.getElementById('password-overlay').style.display = 'none';
                playScene3();
            }, 3000);
        }

        function shakeInput(input) {
            input.style.border = "2px solid red";
            setTimeout(() => { input.style.border = "2px solid #64B5F6"; }, 500);
            if (navigator.vibrate) navigator.vibrate(200);
        }

        function decreaseAttempts() {
            attemptsLeft--;
            document.getElementById('attempt-num').innerText = attemptsLeft;

            if (attemptsLeft === 1) {
                document.getElementById('errorMsg').innerText = "Ø§Ø®Ø± ÙØ±ØµØ©.. Ø±ÙƒØ²ÙŠ ğŸ˜³";
                document.getElementById('errorMsg').style.color = "red";
            } 
            else if (attemptsLeft <= 0) {
                startDestructSequence();
            }
        }

        function startDestructSequence() {
            document.getElementById('input-group').style.display = 'none';
            document.getElementById('security-title').style.display = 'none';
            document.getElementById('errorMsg').innerText = "";
            
            const destructScreen = document.getElementById('destruct-screen');
            destructScreen.style.display = 'flex';
            
            let timeLeft = 10;
            const timerEl = document.getElementById('destruct-timer');
            
            let countdown = setInterval(() => {
                timeLeft--;
                timerEl.innerText = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(countdown);
                    timerEl.style.display = 'none';
                    
                    // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
                    document.getElementById('destruct-msg-sub').style.display = 'none';
                    
                    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙÙ‚Ø·
                    const mainMsg = document.getElementById('destruct-msg-main');
                    mainMsg.innerText = "Ø¬Ø°Ø¨ ÙŠÙ…Ø¹ÙˆØ¯Ø© ğŸ¤£ ÙŠÙ„Ø§ ÙŠÙ„Ø§ Ø³Ø¤Ø§Ù„ Ø«Ø§Ù†ÙŠ Ù‡Ø°Ø§";
                    mainMsg.style.color = "#4CAF50";
                    
                    setTimeout(() => {
                        switchToSecondQuestion();
                    }, 6000);
                }
            }, 1000);
        }

        function switchToSecondQuestion() {
            document.getElementById('destruct-screen').style.display = 'none';
            document.getElementById('input-group').style.display = 'flex';
            document.getElementById('security-title').style.display = 'block';
            
            document.getElementById('attempts-box').style.display = 'none';
            
            document.getElementById('q-text').innerText = "Ø³Ø¤Ø§Ù„ Ø§Ù„ÙØ±ØµØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø©: ÙƒÙ… Ù†Ø³Ø¨Ø© Ø­Ø¨ÙŠ Ø§Ù„Ø¬ØŸ";
            document.getElementById('nameInput').value = "";
            document.getElementById('nameInput').placeholder = "Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¬ÙˆØ§Ø¨ Ù‡Ù†Ø§...";
            document.getElementById('errorMsg').innerText = "";
            document.getElementById('errorMsg').style.color = "#ff1744"; 

            isQuestion2 = true;
            attemptsQ2 = 0; 
        }

        function returnToFirstQuestion() {
            isQuestion2 = false;
            infiniteMode = true; 

            document.getElementById('q-text').innerText = "Ù„Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ 2026.. Ù…Ø§Ù‡Ùˆ Ù„ÙˆÙ† Ø§Ù„Ù„Ø¨Ø§Ø³ Ø§Ù„Ø°ÙŠ ÙŠØ±ØªØ¯ÙŠÙ‡ ÙŠÙˆØ³Ù Ø§Ù„ÙŠÙˆÙ… ğŸ¤£ØŸ";
            document.getElementById('nameInput').value = "";
            document.getElementById('nameInput').placeholder = "Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø¬ÙˆØ§Ø¨ Ù‡Ù†Ø§...";
            
            document.getElementById('attempts-box').style.display = 'none';
            
            document.getElementById('errorMsg').innerText = "Ø±Ø¬Ø¹ØªØ¬ Ù„Ø§Ù† Ù…Ø§ ÙØ§Ø¯ ÙˆÙŠØ§Ø¬ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³Ù‡Ù„ ğŸ˜’";
            
            document.getElementById('helpBtn').style.display = 'inline-block';
        }


        function playScene1() {
            stopAllSounds();
            const scene1 = document.getElementById('scene1');
            scene1.style.display = 'block';
            
            audioScene1.play().catch(e => console.log("ØªÙØ§Ø¹Ù„ Ù…Ø·Ù„ÙˆØ¨"));

            setTimeout(() => { document.getElementById('s1-line1').classList.add('visible'); }, 500); 
            setTimeout(() => { document.getElementById('s1-line-update').classList.add('visible'); }, 3000); 
            setTimeout(() => { document.getElementById('s1-line2').classList.add('visible'); }, 6000); 
            setTimeout(() => { 
                document.getElementById('s1-line3').classList.add('visible'); 
                document.getElementById('s1-loader').style.opacity = 0; 
            }, 9000);

            setTimeout(() => {
                scene1.style.opacity = 0;
                let fade = setInterval(() => {
                    if(audioScene1.volume > 0.05) audioScene1.volume -= 0.05;
                    else { clearInterval(fade); stopSound(audioScene1); }
                }, 200);

                setTimeout(() => { scene1.style.display = 'none'; playScene2(); }, 1000);
            }, 12000);
        }

        function playScene2() {
            const scene2 = document.getElementById('scene2');
            scene2.style.display = 'block';
            document.body.style.backgroundColor = "#100000";

            audioHeart.volume = 0.4; 
            audioHeart.play().catch(e => console.log("ØªÙØ§Ø¹Ù„ Ù…Ø·Ù„ÙˆØ¨"));

            if (navigator.vibrate) {
                 navigator.vibrate(200);
                 vibrationInterval = setInterval(() => {
                    navigator.vibrate(200);
                }, 1300);
            }

            let width = 0;
            const bar = document.getElementById('p-bar');
            const counter = document.getElementById('p-counter');
            const wordsBox = document.getElementById('love-words');
            let wordIndex = 0;
            
            let wordInterval = setInterval(() => {
                wordsBox.classList.remove('flash-visible'); 
                setTimeout(() => {
                    if (width < 100) {
                        wordsBox.innerText = loveWordsList[wordIndex % loveWordsList.length];
                        wordsBox.classList.add('flash-visible');
                        wordIndex++;
                    }
                }, 300); 
            }, 800);

            let interval = setInterval(() => {
                width += Math.random() * 1.5; 
                if(width >= 100) {
                    width = 100;
                    clearInterval(interval);
                    clearInterval(wordInterval); 
                    wordsBox.innerText = ""; 
                    
                    setTimeout(() => {
                        scene2.style.opacity = 0;
                        setTimeout(() => { 
                            scene2.style.display = 'none'; 
                            // Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ù…Ø´Ù‡Ø¯ 3ØŒ Ù†Ø°Ù‡Ø¨ Ù„Ù„Ø¨ÙˆØ§Ø¨Ø©
                            document.getElementById('password-overlay').style.display = 'flex';
                            stopAllSounds(); // Ø¥ÙŠÙ‚Ø§Ù ØµÙˆØª Ø§Ù„Ù‚Ù„Ø¨
                        }, 1000);
                    }, 1000);
                }
                bar.style.width = width + "%";
                counter.innerText = Math.floor(width) + "%";
            }, 50);
        }

        function playScene3() {
            stopAllSounds(); 

            const scene3 = document.getElementById('scene3');
            scene3.style.display = 'block';
            document.body.style.backgroundColor = "#000"; 
            
            loopFireworks(); 
            document.getElementById('update-footer').style.display = 'flex';

            audioTyping.play().catch(e => console.log("ØªÙØ§Ø¹Ù„ Ù…Ø·Ù„ÙˆØ¨"));

            typeWriterEffect(letterToRuqaya, function() {
                stopSound(audioTyping);

                setTimeout(() => {
                    const container = document.getElementById('typing-container');
                    container.style.transition = "opacity 2s";
                    container.style.opacity = 0;

                    setTimeout(() => {
                        triggerSurprise();
                    }, 2000);
                }, 8000); 
            });
        }

        function typeWriterEffect(text, callback) {
            const container = document.getElementById('typing-container');
            let i = 0;
            container.innerHTML = '<span class="cursor">|</span>';
            function typing() {
                if (i < text.length) {
                    container.innerHTML = text.substring(0, i + 1) + '<span class="cursor">|</span>';
                    i++;
                    setTimeout(typing, 60); 
                } else {
                    if (callback) callback();
                }
            }
            typing();
        }

        function triggerSurprise() {
            document.getElementById('update-footer').style.display = 'none';
            document.getElementById('morphBox').classList.add('morph-active');
            
            audioBaby.play().catch(e => console.log("ØªÙØ§Ø¹Ù„ Ù…Ø·Ù„ÙˆØ¨"));
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ø¯Ø¹Ø§Ø¡
            const prayerBtn = document.getElementById('prayerBtn');
            prayerBtn.style.display = 'flex';
            setTimeout(() => { prayerBtn.style.opacity = 1; }, 500);

            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØµÙˆØµ
            const finalDiv = document.getElementById('final-texts');
            finalDiv.style.display = 'block';
            setTimeout(() => { document.getElementById('f-msg1').classList.add('visible'); }, 1500);
            setTimeout(() => { document.getElementById('f-msg2').classList.add('visible'); }, 3500);
            setTimeout(() => { document.getElementById('f-msg3').classList.add('visible'); }, 6000);
            
            // Ù…Ù„Ø§Ø­Ø¸Ø©: ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ø¯Ù„Ø§Ù„ Ù…Ù† Ù‡Ù†Ø§ØŒ Ø³ÙŠØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¯Ø¹Ø§Ø¡
        }

        const canvas = document.getElementById('fireworksCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let particles = [];
        function createParticle(x, y) {
            const colors = ['#2196F3', '#64B5F6', '#BBDEFB', '#FFD700', '#FFFFFF'];
            for (let i = 0; i < 30; i++) {
                particles.push({
                    x: x, y: y, color: colors[Math.floor(Math.random() * colors.length)],
                    radius: Math.random() * 3, velocity: { x: (Math.random() - 0.5) * 5, y: (Math.random() - 0.5) * 5 },
                    life: 100, alpha: 1
                });
            }
        }
        function loopFireworks() {
            requestAnimationFrame(loopFireworks);
            ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            if (Math.random() < 0.05) createParticle(Math.random() * canvas.width, Math.random() * canvas.height / 2);
            particles.forEach((p, index) => {
                if (p.life > 0) {
                    p.velocity.y += 0.05; p.x += p.velocity.x; p.y += p.velocity.y;
                    p.life--; p.alpha -= 0.01;
                    ctx.beginPath(); ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    ctx.fillStyle = p.color; ctx.globalAlpha = p.alpha; ctx.fill(); ctx.globalAlpha = 1;
                } else { particles.splice(index, 1); }
            });
        }
        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });
    </script>
</body>
</html>
