<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù… 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* --- ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø¹Ø§Ù…Ø© --- */
        body {
            margin: 0; padding: 0; height: 100vh; width: 100vw;
            background-color: #000; color: white;
            font-family: 'Tajawal', sans-serif;
            overflow: hidden;
            display: flex; justify-content: center; align-items: center; text-align: center;
        }

        .scene {
            display: none; position: absolute;
            top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 90%; max-width: 600px; z-index: 10;
        }

        /* --- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© --- */
        #start-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 1000;
        }

        .start-btn {
            padding: 15px 40px; font-size: 1.3rem; background: #fff; color: #000;
            border: none; border-radius: 50px; cursor: pointer;
            font-family: 'Tajawal', sans-serif; font-weight: bold;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.4); animation: pulse 1.5s infinite;
        }

        /* --- Ù†ØµÙˆØµ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ --- */
        .text-line {
            font-size: 1.3rem; margin-bottom: 20px; opacity: 0;
            transform: translateY(20px); transition: opacity 1.5s ease, transform 1.5s ease;
            color: #ccc; line-height: 1.6;
        }
        .highlight { color: #fff; font-weight: bold; text-shadow: 0 0 10px rgba(255,255,255,0.3); }
        .visible { opacity: 1; transform: translateY(0); }

        /* --- Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø£ÙˆÙ„ --- */
        .loader {
            border: 3px solid #333; border-top: 3px solid #fff; border-radius: 50%;
            width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 0 auto 30px auto;
        }

        /* --- Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø«Ø§Ù†ÙŠ --- */
        .heart-icon {
            font-size: 4rem; color: #ff1744; margin-bottom: 20px;
            animation: heartbeat 1.3s infinite; 
            display: inline-block;
        }

        .progress-box { width: 100%; height: 80px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .progress-container { width: 100%; height: 15px; background-color: #333; border-radius: 50px; overflow: hidden; margin-bottom: 10px; }
        .progress-bar { width: 0%; height: 100%; background: linear-gradient(90deg, #ff1744, #d50000); border-radius: 50px; transition: width 0.1s linear; }
        
        .flashing-words-box {
            height: 50px; margin-top: 20px; font-size: 1.5rem; font-weight: bold;
            color: #ff80ab; opacity: 0; transition: opacity 0.3s ease;
        }
        .flash-visible { opacity: 1; }

        /* --- Ø´Ø§Ø´Ø© Ù‚ÙÙ„ Ø§Ù„Ø§Ø³Ù… (Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ) --- */
        #password-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 2000;
            flex-direction: column; justify-content: center; align-items: center;
        }
        .pwd-input {
            padding: 10px; font-size: 1.2rem; border-radius: 10px; border: 2px solid #64B5F6;
            outline: none; text-align: center; margin-bottom: 15px; width: 70%;
            font-family: 'Tajawal', sans-serif;
        }
        .pwd-btn {
            padding: 10px 30px; font-size: 1rem; background: #64B5F6; color: #000;
            border: none; border-radius: 50px; cursor: pointer; font-weight: bold;
        }
        .error-msg {
            color: #ff1744; margin-top: 15px; font-weight: bold; height: 20px;
        }

        /* --- Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø«Ø§Ù„Ø« --- */
        .year-container {
            font-size: 5rem; font-weight: bold; margin-bottom: 10px;
            display: flex; align-items: center; justify-content: center; direction: ltr;
            transition: transform 1.5s ease;
        }
        /* ÙƒÙ„Ø§Ø³ Ù„ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø³Ù†Ø© Ù„Ù„Ø£Ø³ÙÙ„ (ØªÙ… Ø²ÙŠØ§Ø¯ØªÙ‡Ø§ Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ±) */
        .year-move-down {
            transform: translateY(120px); /* Ù†Ø²Ù„ØªÙ‡Ø§ 120 Ø¨ÙƒØ³Ù„ Ø¹Ø´Ø§Ù† ØªØ±ØªØ§Ø­ */
        }

        .static-num { text-shadow: 0 0 20px rgba(33, 150, 243, 0.6); color: #E3F2FD; }
        
        .morph-wrapper {
            position: relative; display: inline-block;
            width: 55px; height: 80px; text-align: center; top: -20px;
        }

        .digit-six { position: absolute; left: 0; top: 0; width: 100%; transition: opacity 1s ease-in-out, transform 1s; color: #E3F2FD; }
        
        .baby-icon {
            position: absolute; left: 0; top: 10px; width: 100%; opacity: 0;
            transform: scale(0.5); transition: opacity 1s ease-in-out, transform 1s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            font-size: 4rem;
        }

        .morph-active .digit-six { opacity: 0; transform: scale(1.5) rotate(20deg); }
        .morph-active .baby-icon { opacity: 1; transform: scale(1); }

        #typing-container {
            font-size: 1.1rem; line-height: 1.8; color: #fff;
            min-height: 150px; margin-top: 10px; text-align: center;
            font-weight: bold; white-space: pre-wrap; 
        }
        .cursor { display: inline-block; width: 2px; height: 1.2rem; background-color: #fff; animation: blink 0.8s infinite; margin-right: 2px; }

        /* --- Ø²Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ --- */
        .whatsapp-btn {
            display: none; 
            margin: 0 auto 30px auto; 
            padding: 12px 30px;
            background-color: #25D366; color: white; text-decoration: none;
            border-radius: 50px; font-weight: bold; font-size: 1rem;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4); animation: pulse 2s infinite;
            opacity: 0; transition: opacity 1s;
        }

        /* --- ØªÙ„Ù…ÙŠØ­ Ø§Ù„Ù‡Ø¯ÙŠØ© --- */
        .gift-hint {
            display: none; margin-top: 25px; font-size: 1rem; color: #FFD700;
            opacity: 0; transition: opacity 1s; font-weight: bold;
            border: 1px dashed #FFD700; padding: 10px; border-radius: 10px;
        }

        /* --- Ø²Ø± Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ø¹Ø§Ø¦Ù… --- */
        .prayer-float {
            position: fixed; top: 20px; right: 20px; 
            width: 45px; height: 45px; border-radius: 50%;
            background: rgba(255, 255, 255, 0.15); border: 1px solid rgba(255,255,255,0.5);
            color: #fff; font-size: 1.2rem; display: none; 
            justify-content: center; align-items: center; cursor: pointer;
            z-index: 2000; opacity: 0; transition: opacity 1s;
        }
        .prayer-float:hover { background: rgba(255, 255, 255, 0.3); }

        /* --- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯Ø¹Ø§Ø¡ (Modal) --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.9); z-index: 3000;
            display: none; justify-content: center; align-items: center;
        }
        .modal-content {
            background: #1a1a1a; padding: 30px; border-radius: 20px;
            max-width: 80%; border: 1px solid #64B5F6; text-align: center;
            box-shadow: 0 0 30px rgba(100, 181, 246, 0.2);
        }
        .close-modal { margin-top: 20px; padding: 8px 20px; background: #333; color: #fff; border: none; border-radius: 5px; cursor: pointer; }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³ÙÙ„ÙŠ --- */
        #update-footer {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background-color: rgba(20, 20, 20, 0.95);
            padding: 12px 0; display: none; justify-content: center; align-items: center;
            font-size: 0.9rem; color: #ccc; z-index: 100; border-top: 1px solid #333;
        }
        .footer-spinner {
            border: 2px solid rgba(255, 255, 255, 0.1); border-top: 2px solid #64B5F6;
            border-radius: 50%; width: 16px; height: 16px; animation: spin 1s linear infinite; margin-left: 12px;
        }

        canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes blink { 50% { opacity: 0; } }
        @keyframes heartbeat { 
            0% { transform: scale(1); } 15% { transform: scale(1.2); } 30% { transform: scale(1); } 45% { transform: scale(1.2); } 60% { transform: scale(1); } 100% { transform: scale(1); }
        }

    </style>
</head>
<body>

    <canvas id="fireworksCanvas"></canvas>

    <div id="start-overlay">
        <button class="start-btn" onclick="startExperience()">Ø§Ø¶ØºØ·ÙŠ Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« â†º</button>
    </div>

    <div id="password-overlay">
        <h2 style="margin-bottom: 20px; color: #64B5F6;">ØªÙ†Ø¨ÙŠÙ‡ Ø£Ù…Ù†ÙŠ âš ï¸</h2>
        <p style="margin-bottom: 20px; font-size: 1.1rem;">Ù„Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ 2026.. Ø§ÙƒØªØ¨ÙŠ Ø§Ø³Ù… Ø£ÙƒØ«Ø± Ø´Ø®Øµ ØªØ­Ø¨ÙŠÙ†Ù‡ØŸ</p>
        <input type="text" id="nameInput" class="pwd-input" placeholder="Ø§ÙƒØªØ¨ÙŠ Ø§Ù„Ø§Ø³Ù… Ù‡Ù†Ø§...">
        <button class="pwd-btn" onclick="checkName()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        <div class="error-msg" id="errorMsg"></div>
    </div>

    <div class="prayer-float" id="prayerBtn" onclick="togglePrayer()">ğŸ¤²</div>

    <div class="modal-overlay" id="prayerModal">
        <div class="modal-content">
            <h3 style="color: #64B5F6; margin-bottom: 20px;">Ø¯Ø¹Ø§Ø¡ Ù„Ø²ÙˆØ¬ØªÙŠ Ø§Ù„ØºØ§Ù„ÙŠØ©</h3>
            <p style="line-height: 1.8; font-size: 1.1rem;">
                "Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³ØªÙˆØ¯Ø¹Ùƒ Ø²ÙˆØ¬ØªÙŠ ÙˆØ¬Ù†ÙŠÙ†Ù‡Ø§ØŒ ÙØ§Ø­ÙØ¸Ù‡Ù… Ø¨Ø­ÙØ¸ÙƒØŒ<br>
                ÙˆÙ‡ÙˆÙ† Ø¹Ù„ÙŠÙ‡Ø§ Ù…Ø§ ØªØ¨Ù‚Ù‰ Ù…Ù† Ø­Ù…Ù„Ù‡Ø§ØŒ<br>
                ÙˆØ§Ø¬Ø¹Ù„Ù‡Ø§ Ø³Ù†Ø© Ø®ÙŠØ± ÙˆØ¨Ø±ÙƒØ© Ø¹Ù„ÙŠÙ†Ø§ ÙŠØ§ Ø£Ø±Ø­Ù… Ø§Ù„Ø±Ø§Ø­Ù…ÙŠÙ†."
            </p>
            <button class="close-modal" onclick="togglePrayer()">Ø¢Ù…ÙŠÙ†</button>
        </div>
    </div>

    <div class="scene" id="scene1">
        <div class="loader" id="s1-loader"></div>
        <div class="text-line" id="s1-line1">Ø¬Ø§Ø±Ù Ø¥ØºÙ„Ø§Ù‚ Ù…Ù„ÙØ§Øª Ø³Ù†Ø© 2025...</div>
        <div class="text-line" id="s1-line-update" style="color: #64B5F6;">
            Ø¬Ø§Ø±ÙŠ Ø£Ø±Ø´ÙØ© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©.. ÙˆØ§Ù„ØªØ­Ø¶ÙŠØ± Ù„ØªØ±Ù‚ÙŠØ© 2026 ğŸ”„
        </div>
        <div class="text-line" id="s1-line2">ØªÙ… Ø±ØµØ¯ <span class="highlight">ØªØ¹Ø¨ ÙˆØ£Ù„Ù…</span> ÙÙŠ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø®ÙŠØ±Ø©...</div>
        <div class="text-line" id="s1-line3" style="margin-top: 30px; color: #fff;">
            Ù„ÙƒÙ† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§ÙƒØªØ´Ù Ø£Ù†ÙƒÙ ÙƒÙ†ØªÙ <span class="highlight">Ø£Ù‚ÙˆÙ‰ ÙˆØ£Ø¬Ù…Ù„ Ø§Ù…Ø±Ø£Ø©</span> ØªØ­Ù…Ù„Øª ÙƒÙ„ Ù‡Ø°Ø§.
        </div>
    </div>

    <div class="scene" id="scene2">
        <div class="heart-icon">â¤ï¸</div>
        <div style="margin-bottom: 10px; color: #ffcdd2;">Ø¬Ø§Ø±Ù ØªØ«Ø¨ÙŠØª Ø¬Ø±Ø¹Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ù† Ø§Ù„Ø­Ø¨ ÙˆØ§Ù„Ø¯Ù„Ø§Ù„...</div>
        <div class="progress-box">
            <div class="progress-container"><div class="progress-bar" id="p-bar"></div></div>
            <div style="font-size: 1.5rem; font-weight: bold;" id="p-counter">0%</div>
        </div>
        <div class="flashing-words-box" id="love-words"></div>
    </div>

    <div class="scene" id="scene3">
        <div class="year-container" id="year-cont">
            <span class="static-num">202</span>
            <div class="morph-wrapper" id="morphBox">
                <span class="digit-six">6</span>
                <span class="baby-icon">ğŸ‘¶</span>
            </div>
        </div>
        
        <div id="typing-container"></div>
        
        <a href="https://wa.me/9647832268902?text=Ø¹Ø§Ø´Øª%20Ø§ÙŠØ¯Ùƒ%20Ø­Ø¨ÙŠØ¨ÙŠ%20Ø¹Ø§Ù„Ù…ÙˆÙ‚Ø¹%20ÙŠØ¬Ù†Ù†!%20Ø¨Ø³%20Ø§Ù†ÙŠ%20Ù‡Ø³Ù‡%20Ù…Ø­ØªØ§Ø¬Ø©%20Ø¯Ù„Ø§Ù„..%20ÙŠÙ…ØªÙ‰%20ØªØ¬ÙŠØŸ%20â¤ï¸" class="whatsapp-btn" id="wa-btn" target="_blank">
            ğŸš‘ Ø·Ù„Ø¨ Ø¯Ù„Ø§Ù„ ÙÙˆØ±ÙŠ (Ø§Ø¶ØºØ·ÙŠ Ù‡Ù†Ø§)
        </a>

        <div id="final-texts" style="display: none;">
            <div class="text-line" id="f-msg1">ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ù†Ø¬Ø§Ø­...</div>
            <div class="text-line" id="f-msg2">ØªÙ†Ø¨ÙŠÙ‡: ØªÙ… Ø¥Ø¶Ø§ÙØ© <span class="highlight">Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯</span> Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©...</div>
            <div class="text-line" id="f-msg3" style="color: #64B5F6;">Ù‡Ø°Ù‡ Ø§Ù„Ø³Ù†Ø© Ù„Ù† Ù†ÙƒÙˆÙ† Ø§Ø«Ù†ÙŠÙ†.. Ø³Ù†ÙƒÙˆÙ† Ø¹Ø§Ø¦Ù„Ø© ğŸ’™</div>
        </div>

        <div class="gift-hint" id="gift-hint">
            Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§ÙƒÙˆ Ø´ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ ÙŠÙ†ØªØ¸Ø±Ùƒ Ø¬ÙˆØ© Ø§Ù„Ù…Ø®Ø¯Ø©.. Ø¯ÙˆØ±ÙŠ Ø¹Ù„ÙŠÙ‡ ğŸ˜‰ğŸ
        </div>
    </div>

    <div id="update-footer">
        <div class="footer-spinner"></div>
        <span>Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ù†Ø©...</span>
    </div>

    <audio id="audioScene1" src="https://www.soundjay.com/free-music/snow-fall-01.mp3"></audio>
    <audio id="audioHeart" src="https://www.soundjay.com/human/sounds/heartbeat-01a.mp3" loop></audio>
    <audio id="audioTyping" src="https://www.soundjay.com/mechanical/sounds/typewriter-6.mp3" loop></audio>
    <audio id="audioBaby" src="https://www.soundjay.com/human/sounds/baby-laughing-02.mp3"></audio>

    <script>
        const audioScene1 = document.getElementById('audioScene1');
        const audioHeart = document.getElementById('audioHeart');
        const audioTyping = document.getElementById('audioTyping');
        const audioBaby = document.getElementById('audioBaby');

        audioScene1.volume = 0.5;
        audioHeart.volume = 0.4;
        audioTyping.volume = 0.3;

        const letterToRuqaya = "Ø¥Ù„Ù‰ Ø²ÙˆØ¬ØªÙŠ Ø§Ù„Ø¹Ø²ÙŠØ²Ø© Ø±Ù‚ÙŠØ© Ø§Ù„ØºØ§Ù„ÙŠØ©..\nØ£Ø­Ø¨Ø¬ ÙŠØ±ÙˆØ­ÙŠ.. Ù‡Ø§ÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø£Ø±ÙŠØ¯ Ø£ÙƒÙ„Ø¬ Ø¨ÙŠÙ‡Ø§ Ø´ÙƒØ¯ Ø£Ù†ÙŠ ÙØ®ÙˆØ± Ø¨ÙŠØ¬ØŒ ÙˆØ§Ù„Ù„Ù‡ ÙŠØ±ÙˆØ­ÙŠ Ù…Ø§ Ø£Ù„ÙƒÙ‡ Ù…Ø«Ù„Ø¬ Ø¨Ù‡Ø§ÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø£Ø¨Ø¯.\nØ±ÙˆØ­ÙŠ Ù…ØªØ¹Ù„Ù‚Ø© Ø¨ÙŠØ¬ ÙˆÙ…Ø§ Ø£Ø¹Ø±Ù Ø£Ø¹ÙŠØ´ Ø¨Ø¯ÙˆÙ†Ø¬.\nÙƒÙ„ Ø¹Ø§Ù… Ø£Ù†ØªÙŠ Ø¥Ù„ÙŠØŒ ÙˆÙƒÙ„ Ø¹Ø§Ù… Ø£Ù†ØªÙŠ Ø²ÙˆØ¬ØªÙŠØŒ ÙˆÙƒÙ„ Ø¹Ø§Ù… Ø£Ù†ØªÙŠ ÙƒÙ„ Ù…Ø§ Ø£Ù…Ù„Ùƒ ÙŠØ§ ØºØ§Ù„ÙŠØªÙŠ ÙˆØ¹Ø²ÙŠØ²ØªÙŠ ÙˆÙƒÙ„ Ø¯Ù†ÙŠØªÙŠ.\nØ£Ø­Ø¨Ø¬ ÙŠØ±ÙˆØ­ÙŠØŒ Ø§Ù„Ù„Ù‡ ÙŠØ­ÙØ¸Ø¬ Ø¥Ù„ÙŠ ÙˆÙŠØ®Ù„ÙŠØ¬ØŒ Ø³Ù†Ø© Ø³Ø¹ÙŠØ¯Ø© Ø¹Ù„ÙŠØ¬ Ø­ÙŠØ§ØªÙŠ.\n\n- Ø­Ø¨ÙŠØ¨Ùƒ ÙŠÙˆØ³Ù â¤ï¸";

        const loveWordsList = ["Ø£Ø­Ø¨Ø¬", "Ø£Ø¹Ø´ÙƒØ¬", "Ø£Ù…ÙˆØª Ø¹Ù„ÙŠØ¬", "Ø­ÙŠØ§ØªÙŠ Ø£Ù†ØªÙŠ", "Ø¹Ù…Ø±ÙŠ"];
        
        // Ø±Ø¯ÙˆØ¯ Ù…Ø¶Ø­ÙƒØ© Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£
        const funnyResponses = [
            "Ù…Ù†Ùˆ Ù‡Ø°Ø§ØŸ ğŸ¤”",
            "Ù„Ø§ Ù„Ø§.. Ø­Ø§ÙˆÙ„ÙŠ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©",
            "ØªØ±Ø§ Ø£Ø²Ø¹Ù„! ğŸ˜’",
            "Ø®Ø·Ø£! Ø§ÙƒØªØ¨ÙŠ: ÙŠÙˆØ³Ù",
            "Ù†Ø³ÙŠØªÙŠ Ø§Ø³Ù…ÙŠØŸ ğŸ˜¢",
            "Ø§Ù„Ø±Ù…Ø² Ù‡Ùˆ: ÙŠÙˆØ³Ù"
        ];

        let vibrationInterval;

        function startExperience() {
            document.getElementById('start-overlay').style.display = 'none';
            playScene1();
        }

        function togglePrayer() {
            const modal = document.getElementById('prayerModal');
            modal.style.display = (modal.style.display === 'flex') ? 'none' : 'flex';
        }

        function stopSound(audioElement) {
            audioElement.pause();
            audioElement.currentTime = 0;
        }

        function stopAllSounds() {
            stopSound(audioScene1);
            stopSound(audioHeart);
            stopSound(audioTyping);
            stopSound(audioBaby);
            if(vibrationInterval) clearInterval(vibrationInterval);
        }

        // --- ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ø³Ù… ---
        function checkName() {
            const input = document.getElementById('nameInput');
            const errorDiv = document.getElementById('errorMsg');
            const val = input.value.trim();

            if (val.includes("ÙŠÙˆØ³Ù") || val.includes("Yusuf") || val.includes("yusuf")) {
                // Ø§Ù„Ù†Ø¬Ø§Ø­
                document.getElementById('password-overlay').style.display = 'none';
                playScene3();
            } else {
                // Ø§Ù„ÙØ´Ù„ - Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø¯ Ù…Ø¶Ø­Ùƒ
                const randomResp = funnyResponses[Math.floor(Math.random() * funnyResponses.length)];
                errorDiv.innerText = randomResp;
                
                // Ø§Ù‡ØªØ²Ø§Ø² Ø§Ù„Ø­Ù‚Ù„ (ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ)
                input.style.border = "2px solid red";
                setTimeout(() => { input.style.border = "2px solid #64B5F6"; }, 500);
            }
        }

        function playScene1() {
            stopAllSounds();
            const scene1 = document.getElementById('scene1');
            scene1.style.display = 'block';
            
            audioScene1.play().catch(e => console.log("ØªÙØ§Ø¹Ù„ Ù…Ø·Ù„ÙˆØ¨"));

            setTimeout(() => { document.getElementById('s1-line1').classList.add('visible'); }, 500); 
            setTimeout(() => { document.getElementById('s1-line-update').classList.add('visible'); }, 3000); 
            setTimeout(() => { document.getElementById('s1-line2').classList.add('visible'); }, 6000); 
            setTimeout(() => { 
                document.getElementById('s1-line3').classList.add('visible'); 
                document.getElementById('s1-loader').style.opacity = 0; 
            }, 9000);

            setTimeout(() => {
                scene1.style.opacity = 0;
                let fade = setInterval(() => {
                    if(audioScene1.volume > 0.05) audioScene1.volume -= 0.05;
                    else { clearInterval(fade); stopSound(audioScene1); }
                }, 200);

                setTimeout(() => { scene1.style.display = 'none'; playScene2(); }, 1000);
            }, 12000);
        }

        function playScene2() {
            const scene2 = document.getElementById('scene2');
            scene2.style.display = 'block';
            document.body.style.backgroundColor = "#100000";

            audioHeart.volume = 0.4; 
            audioHeart.play().catch(e => console.log("ØªÙØ§Ø¹Ù„ Ù…Ø·Ù„ÙˆØ¨"));

            if (navigator.vibrate) {
                 navigator.vibrate(200);
                 vibrationInterval = setInterval(() => {
                    navigator.vibrate(200);
                }, 1300);
            }

            let width = 0;
            const bar = document.getElementById('p-bar');
            const counter = document.getElementById('p-counter');
            const wordsBox = document.getElementById('love-words');
            let wordIndex = 0;
            
            let wordInterval = setInterval(() => {
                wordsBox.classList.remove('flash-visible'); 
                setTimeout(() => {
                    if (width < 100) {
                        wordsBox.innerText = loveWordsList[wordIndex % loveWordsList.length];
                        wordsBox.classList.add('flash-visible');
                        wordIndex++;
                    }
                }, 300); 
            }, 800);

            let interval = setInterval(() => {
                width += Math.random() * 1.5; 
                if(width >= 100) {
                    width = 100;
                    clearInterval(interval);
                    clearInterval(wordInterval); 
                    wordsBox.innerText = ""; 
                    
                    setTimeout(() => {
                        scene2.style.opacity = 0;
                        setTimeout(() => { 
                            scene2.style.display = 'none'; 
                            // Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ù…Ø´Ù‡Ø¯ 3ØŒ Ù†Ø°Ù‡Ø¨ Ù„Ù„Ø¨ÙˆØ§Ø¨Ø©
                            document.getElementById('password-overlay').style.display = 'flex';
                            stopAllSounds(); // Ø¥ÙŠÙ‚Ø§Ù ØµÙˆØª Ø§Ù„Ù‚Ù„Ø¨
                        }, 1000);
                    }, 1000);
                }
                bar.style.width = width + "%";
                counter.innerText = Math.floor(width) + "%";
            }, 50);
        }

        function playScene3() {
            stopAllSounds(); 

            const scene3 = document.getElementById('scene3');
            scene3.style.display = 'block';
            document.body.style.backgroundColor = "#000"; 
            
            loopFireworks(); 
            document.getElementById('update-footer').style.display = 'flex';

            audioTyping.play().catch(e => console.log("ØªÙØ§Ø¹Ù„ Ù…Ø·Ù„ÙˆØ¨"));

            typeWriterEffect(letterToRuqaya, function() {
                stopSound(audioTyping);

                setTimeout(() => {
                    const container = document.getElementById('typing-container');
                    container.style.transition = "opacity 2s";
                    container.style.opacity = 0;

                    setTimeout(() => {
                        triggerSurprise();
                    }, 2000);
                }, 8000); 
            });
        }

        function typeWriterEffect(text, callback) {
            const container = document.getElementById('typing-container');
            let i = 0;
            container.innerHTML = '<span class="cursor">|</span>';
            function typing() {
                if (i < text.length) {
                    container.innerHTML = text.substring(0, i + 1) + '<span class="cursor">|</span>';
                    i++;
                    setTimeout(typing, 60); 
                } else {
                    if (callback) callback();
                }
            }
            typing();
        }

        function triggerSurprise() {
            document.getElementById('update-footer').style.display = 'none';
            document.getElementById('morphBox').classList.add('morph-active');
            
            audioBaby.play().catch(e => console.log("ØªÙØ§Ø¹Ù„ Ù…Ø·Ù„ÙˆØ¨"));
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ø¯Ø¹Ø§Ø¡
            const prayerBtn = document.getElementById('prayerBtn');
            prayerBtn.style.display = 'flex';
            setTimeout(() => { prayerBtn.style.opacity = 1; }, 500);

            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØµÙˆØµ
            const finalDiv = document.getElementById('final-texts');
            finalDiv.style.display = 'block';
            setTimeout(() => { document.getElementById('f-msg1').classList.add('visible'); }, 1500);
            setTimeout(() => { document.getElementById('f-msg2').classList.add('visible'); }, 3500);
            setTimeout(() => { document.getElementById('f-msg3').classList.add('visible'); }, 6000);

            // Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù†ØµÙˆØµØŒ ÙŠØ¸Ù‡Ø± Ø§Ù„Ø²Ø± ÙˆØªÙ†Ø²Ù„ Ø§Ù„Ø³Ù†Ø© (Ø¨ØªØ£Ø®ÙŠØ± 8 Ø«ÙˆØ§Ù†ÙŠ)
            setTimeout(() => {
                // Ø¥Ù†Ø²Ø§Ù„ Ø§Ù„Ø³Ù†Ø© Ù„Ù„Ø£Ø³ÙÙ„ (Ù…Ø³Ø§ÙØ© ÙƒØ¨ÙŠØ±Ø©)
                document.getElementById('year-cont').classList.add('year-move-down');

                // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
                const waBtn = document.getElementById('wa-btn');
                waBtn.style.display = 'inline-block';
                setTimeout(() => { waBtn.style.opacity = 1; }, 500);

                // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‡Ø¯ÙŠØ©
                const giftHint = document.getElementById('gift-hint');
                giftHint.style.display = 'block';
                setTimeout(() => { giftHint.style.opacity = 1; }, 800);

            }, 8000);
        }

        const canvas = document.getElementById('fireworksCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let particles = [];
        function createParticle(x, y) {
            const colors = ['#2196F3', '#64B5F6', '#BBDEFB', '#FFD700', '#FFFFFF'];
            for (let i = 0; i < 30; i++) {
                particles.push({
                    x: x, y: y, color: colors[Math.floor(Math.random() * colors.length)],
                    radius: Math.random() * 3, velocity: { x: (Math.random() - 0.5) * 5, y: (Math.random() - 0.5) * 5 },
                    life: 100, alpha: 1
                });
            }
        }
        function loopFireworks() {
            requestAnimationFrame(loopFireworks);
            ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            if (Math.random() < 0.05) createParticle(Math.random() * canvas.width, Math.random() * canvas.height / 2);
            particles.forEach((p, index) => {
                if (p.life > 0) {
                    p.velocity.y += 0.05; p.x += p.velocity.x; p.y += p.velocity.y;
                    p.life--; p.alpha -= 0.01;
                    ctx.beginPath(); ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    ctx.fillStyle = p.color; ctx.globalAlpha = p.alpha; ctx.fill(); ctx.globalAlpha = 1;
                } else { particles.splice(index, 1); }
            });
        }
        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });
    </script>
</body>
</html>
